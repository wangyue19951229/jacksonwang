"use strict";(("undefined"!=typeof self?self:this).webpackChunkUePage=("undefined"!=typeof self?self:this).webpackChunkUePage||[]).push([[70],{9445:function(t,e,n){var r=n(51805).PROPER,o=n(24229),i=n(41647);t.exports=function(t){return o((function(){return!!i[t]()||"​᠎"!=="​᠎"[t]()||r&&i[t].name!==t}))}},21515:function(t,e,n){var r=n(23103),o=n(24231),i=n(74473),c=n(24229),a=n(31333),f=n(26733),u=n(37942),l=n(62391),s=n(14768),d=i&&i.prototype;if(r({target:"Promise",proto:!0,real:!0,forced:!!i&&c((function(){d.finally.call({then:function(){}},(function(){}))}))},{finally:function(t){var e=u(this,a("Promise")),n=f(t);return this.then(n?function(n){return l(e,t()).then((function(){return n}))}:t,n?function(n){return l(e,t()).then((function(){throw n}))}:t)}}),!o&&f(i)){var p=a("Promise").prototype.finally;d.finally!==p&&s(d,"finally",p,{unsafe:!0})}},45794:function(t,e,n){var r=n(23103),o=n(1017).trim;r({target:"String",proto:!0,forced:n(9445)("trim")},{trim:function(){return o(this)}})},21070:function(t,e,n){n.r(e),n.d(e,{dealFormMessage:function(){return u}});var r=n(3416),o=(n(95342),n(58188),n(45794),n(88233),n(1939),n(36728),n(49228),n(43105),n(73439),n(18178),n(39529),n(31235),n(77950),n(21850),n(21515),n(22956)),i=n(38291),c={require:{test:/\S+/,errMsg:"此项不能为空"},number:{test:/^[0-9]+$/,errMsg:"只能输入数字"},email:{test:/^\w+((.\w+)|(-\w+))@[A-Za-z0-9]+((.|-)[A-Za-z0-9]+).[A-Za-z0-9]+$/,errMsg:"请输入正确的邮箱"},phone:{test:/^[1][3,4,5,7,8][0-9]{9}$/,errMsg:"请输入正确的手机号"},date:{test:/^[0-9]{4}-[0-9]{2}-[0-9]{2}(\s[0-9]{2}:[0-9]{2})?$/,errMsg:"请输入正确的时间，格式为 2018-09-10 或者 2018-09-10 21:09"}};function a(t){return"checkbox"===t.eq(0).attr("type")?String(t.filter("input[type='checkbox']:checked").val()||""):"radio"===t.eq(0).attr("type")?String(t.filter("input[type='radio']:checked").val()||""):(t.val()||"").toString().trim()}function f(t){var e={code:"",type:"",content:"<style>table{border-right:#cccccc 1px solid;border-bottom:#cccccc 1px solid;}tr{ margin:0; padding:0}td,th{ border-left:#cccccc 1px solid;border-top:#cccccc 1px solid; margin:0; padding:0 10px; font-size:14px; background:#f8f8f8; color:#666; line-height:30px}</style>"};if("object"!==(0,r.Z)(t))return e;var n={};for(var o in t.forEach((function(t){var e=t.name;e in n?n[e].value.push(t.value):n[e]={name:e,value:[t.value]}})),e.content+='<table width="600" border="0" cellspacing="0"> <tbody>',n)if(Object.prototype.hasOwnProperty.call(n,o)){var i=n[o];"code"==i.name?e.code=i.value[0]:"type"==i.name?e.type=i.value[0]:e.content+="<tr><th>"+i.name+"</th><td>"+i.value+"</td></tr>"}return e.content+="</tbody> </table>",e.content+='<p style="color:#666; font-size:12px">来自&nbsp;&nbsp;'+window.location.host+"</p>",e}function u(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=i(t).find("."+o.Z["form-code-img"]),r=n.attr("src"),u=Object.assign({getCodeImgUrl:function(){return""},formSubmit:function(t,e){return Promise.resolve()}},e);function l(){var t=u.getCodeImgUrl();t&&n.attr("src",t)}l(),i(t).find(o.Z["form-code-img"]).on("click",l);var s=i(t).find("."+o.Z["form-row"]),d=i(t).find("."+o.Z["submit-btn"]),p=i(t).find("."+o.Z["form-row--submit"]),m=o.Z["form-err_msg"];function g(t,e){var n=i(t).find("."+m);e&&n.length?n.text(e):!e||n.length||i('<div class="'.concat(m,'">').concat(e,"</div>")).appendTo(t)}function h(){i(t).find("."+m).remove()}function v(){h(),b();var t=!0;return s.each((function(e,n){var r=i(n).find("input,select,textarea");if(r&&r.length){var o="",f=a(r),u=i(n).data("ruler").split(",");u.includes("require")&&i(u).each((function(e,r){c[r]&&(c[r].test.test(f.trim())||(t=!1,o=c[r].errMsg));e==u.length-1&&o.length&&g(n,o)}))}})),t}function b(t){t?p.attr("data-status",t):p.removeAttr("data-status")}var y=!1;return d.on("click",(function(){if(!y)if(v()){b("loading");var e=i(t).serializeArray();u.formSubmit(e,f(e)).then((function(){b("success")}),(function(t){b("error"),g(p[0],t||"提交失败，出现未知错误")})).finally((function(){y=!1,l()}))}else g(p[0],"请检查表单后重新提交")})),{destroy:function(){y=!1,b(),h(),n.attr("src",r||""),i(t).find(o.Z["form-code-img"]).off("click"),d.off("click")}}}}}]);